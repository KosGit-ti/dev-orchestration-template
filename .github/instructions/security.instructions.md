# Security Instructions

## 適用範囲

すべてのコードとドキュメントに適用する。

## 禁止事項

- API キー、トークン、認証情報、個人情報をコードやコミットに含めない（P-002）。
- `.env` ファイルをコミットしない。`.env.example` には変数名のみ記載する。
- `subprocess` で外部コマンドを実行する場合は `shell=True` を使わない。
<!-- プロジェクト固有の禁止事項を追加 -->

## 秘密情報パターン

以下のパターンがコード中に含まれていないことを確認する（`ci/policy_check.py` で自動検査）。

- AWS Access Key ID（`AKIA` で始まる文字列）
- SSH 秘密鍵（`-----BEGIN ... PRIVATE KEY-----`）
- GitHub トークン（`ghp_` で始まる文字列）
- 汎用 API キー（`sk-` で始まる長い文字列）

## 依存関係

- 依存追加時はライセンスを確認する（P-040）。
- 既知の脆弱性がある依存は使用しない。
- 依存は最小限に留め、不要な依存を追加しない。

## データ

- 個人情報や非公開情報はリポジトリに含めない。
- テストには必ずダミーデータを使用する。
- ログに秘密情報やパスワードを出力しない。

## レビュー観点

セキュリティレビューでは以下を確認する：

- 禁止パターンに該当するコードがないこと
- 秘密情報パターンが含まれていないこと
- 外部 URL の直書きがないこと
- `subprocess` の安全な使用
- 依存追加の妥当性
